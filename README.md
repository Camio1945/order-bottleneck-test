# order-bottleneck-test
提交订单瓶颈测试。

***

# 目标

1. 写一个极简的 api 接口，用于完成：插入一条订单（order）、插入 1~5 条订单商品（order_goods）、修改商品库存（goods）。确保库存不会减为负数，同时确保订单商品表商品数量等于商品表库存减少的数量。

2. 单机安装 MySQL 8.0，测试：

   a. 当 CPU 核心数量变化时，下单接口的性能变化情况，找出上限值。

   b. 当硬盘 IOPS 变化时，下单接口的性能变化情况，找出上限值。

3. 单机安装 ClickHouse，测试：

   a. 当 CPU 核心数量变化时，下单接口的性能变化情况，找出上限值。

   b. 当硬盘 IOPS 变化时，下单接口的性能变化情况，找出上限值。

4. 单机安装分布式的 TiDB，测试：

   a. 当 CPU 核心数量变化时，下单接口的性能变化情况，找出上限值。

   b. 当硬盘 IOPS 变化时，下单接口的性能变化情况，找出上限值。

5. 多机器安装分布式的 TiDB，测试：

   a. 随着机器数量增加，是否能突破第 4 步的瓶颈，找出上限值。

***

# 